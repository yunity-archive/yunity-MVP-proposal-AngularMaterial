<md-toolbar class="md-medium-small md-whiteframe-3dp">
    <div class="md-toolbar-tools" layout="row">
        <span flex hide-xs hide-sm></span>
        <span hide show-xs show-sm>     
            <md-button class="md-icon-button" aria-label="Open Sidenavigation" ng-click="toggleSideNav()" ng-hide="isOpenSideNav()">
                <i class="icon fa fa-fw fa-bars"></i>
            </md-button>  
        </span>
        <span flex hide show-xs show-sm></span>
        <span flex="noshrink" style="width: 2.5em" hide-xs hide-sm>
            <a ui-sref="groups({id: activeGroup.id})" aria-label="Yunity">
                <img src="assets/icons/Logo-white.png" alt="Yunity" style="width: 2em;">                            
            </a>
        </span>
        <span ng-controller="autocompleteCtrl  as ctrl" style="width: 12em;" flex="noshrink" hide-xs>
            <md-content>
                <md-autocomplete
                    ng-disabled="ctrl.isDisabled"
                    md-no-cache="ctrl.noCache"
                    md-selected-item="ctrl.selectedItem"
                    md-search-text-change="ctrl.searchTextChange(ctrl.searchText)"
                    md-search-text="ctrl.searchText"
                    md-selected-item-change="ctrl.selectedItemChange(item)"
                    md-items="item in ctrl.querySearch(ctrl.searchText)"
                    md-item-text="item.display"
                    md-min-length="0"
                    placeholder={{ctrl.placeholder}}>
                    <md-item-template>
                        <span md-highlight-text="ctrl.searchText" md-highlight-flags="^i">{{item.name}}</span>
                    </md-item-template>
                    <md-not-found>
                        Nothing matching "{{ctrl.searchText}}" was found.
                    </md-not-found>
                </md-autocomplete>
            </md-content>
        </span>
        <span flex></span>



        <!-- Chat -->
        <span ng-controller="chatHeaderCtrl  as ctrl">            
            <md-menu-bar style="padding: 0">
                <md-menu-item>
                <md-menu>
                    <md-button ng-click="$mdOpenMenu()" class="md-icon-button" aria-label="Chat">
                        <i class="fa fa-fw fa-comments"></i>
                    </md-button> 
                    <md-menu-content width="6" style="padding: 0">
                        <md-toolbar class="md-hue-2 md-whiteframe-2dp md-small">
                            <div class="md-toolbar-tools" layout="row">
                                <input type="search" flex style="font-size: .8em; padding: .6em;" placeholder="Search..." ng-model="ctrl.searchUser"/>
                            </div>
                        </md-toolbar>
                        <md-list style="overflow: auto">
                            <md-list-item  ui-sref="chat({id: user.id})"  class="md-2-line" ng-repeat="user in ctrl.users| filter:ctrl.searchUser:strict">
                                <img src="assets/images/user.png" class="md-avatar"/>
                                <div class="md-list-item-text">
                                    <h3>{{user.first_name}} {{user.last_name}}</h3>
                                    <p>Hi, wie geht's so?</p>
                                </div>
                            </md-list-item>                            
                        </md-list>             
                    </md-menu-content>
                </md-menu>
                </md-menu-item>
            </md-menu-bar>
        </span>

        <span flex hide-xs></span>
        
        <span>
            <md-button ui-sref="profile({id: loggedInUserData.id})" class="md-icon-button" aria-label="User">
                <i class="fa fa-fw fa-user"></i>
            </md-button>
        </span>
        <span hide-xs>
            <y-logout-button>
                <i class="fa fa-fw fa-sign-out"></i>                
            </y-logout-button>
        </span>
        <span flex hide-xs></span>
    </div>
</md-toolbar>